<?php
// auto-generated by sfPropelAdmin
// date: 2007/05/24 18:33:08
?>
<?php echo form_tag('AlmReq/edit', array(
  'id'        => 'sf_admin_edit_form',
  'name'      => 'sf_admin_edit_form',
  'multipart' => true,
)) ?>

<?php use_helper('Javascript') ?>
<?php use_helper('PopUp') ?>
<?php use_helper('Grid') ?>
<?php echo javascript_include_tag('dFilter') ?>
<?php echo javascript_include_tag('ajax') ?>
<?php echo javascript_include_tag('tools') ?>
<?php use_helper('tabs') ?>

<?php echo object_input_hidden_tag($careqart, 'getId') ?>

<fieldset><legend><?php  echo __('Requisión')?></legend>

<div class="form-row"><?php echo label_for('careqart[reqart]', __($labels['careqart{reqart}']), 'class="required" ') ?>
<div
	class="content<?php if ($sf_request->hasError('careqart{reqart}')): ?> form-error<?php endif; ?>">
<?php if ($sf_request->hasError('careqart{reqart}')): ?> <?php echo form_error('careqart{reqart}', array('class' => 'form-error-msg')) ?>
<?php endif; ?> <?php $value = object_input_tag($careqart, 'getReqart', array (
'size' => 15,
'maxlegth' => 8,
'control_name' => 'careqart[reqart]',
'onBlur'  => "javascript: valor=this.value; valor=valor.pad(8, '#',0);document.getElementById('careqart_reqart').value=valor;document.getElementById('careqart_reqart').disabled=false;",
)); echo $value ? $value : '&nbsp;' ?>
<div class="sf_admin_edit_help"><?php echo __('Máximo 8 caracteres') ?></div>
</div>
</div>

<div class="form-row"><?php echo label_for('careqart[fecreq]', __($labels['careqart{fecreq}']), 'class="required" ') ?>
<div
	class="content<?php if ($sf_request->hasError('careqart{fecreq}')): ?> form-error<?php endif; ?>">
<?php if ($sf_request->hasError('careqart{fecreq}')): ?> <?php echo form_error('careqart{fecreq}', array('class' => 'form-error-msg')) ?>
<?php endif; ?> <?php $value = object_input_date_tag($careqart, 'getFecreq', array (
  'rich' => true,
  'calendar_button_img' => '/sf/sf_admin/images/date.png',
  'control_name' => 'careqart[fecreq]',
  'date_format' => 'dd/MM/yy',
)); echo $value ? $value : '&nbsp;' ?></div>
</div>

<div class="form-row"><?php echo label_for('careqart[desreq]', __($labels['careqart{desreq}']), 'class="required" ') ?>
<div
	class="content<?php if ($sf_request->hasError('careqart{desreq}')): ?> form-error<?php endif; ?>">
<?php if ($sf_request->hasError('careqart{desreq}')): ?> <?php echo form_error('careqart{desreq}', array('class' => 'form-error-msg')) ?>
<?php endif; ?> <?php $value = object_input_tag($careqart, 'getDesreq', array (
  'size' => 80,
  'control_name' => 'careqart[desreq]',
)); echo $value ? $value : '&nbsp;' ?></div>
</div>

<div class="form-row"><?php echo label_for('careqart[codcatreq]', __($labels['careqart{codcatreq}']), 'class="required" ') ?>
<div
	class="content<?php if ($sf_request->hasError('careqart{codcatreq}')): ?> form-error<?php endif; ?>">
<?php if ($sf_request->hasError('careqart{codcatreq}')): ?> <?php echo form_error('careqart{codcatreq}', array('class' => 'form-error-msg')) ?>
<?php endif; ?> <?php echo input_auto_complete_tag('careqart[codcatreq]', $careqart->getCodcatreq(),
'almreq/autocomplete?ajax=1',  array('autocomplete' => 'off','maxlength' => 32, 'size' => 16, 'onBlur'=> remote_function(array(
'url'      => 'almreq/ajax',
'complete' => 'AjaxJSON(request, json)',
'with' => "'ajax=1&cajtexmos=careqart_desubi&cajtexcom=careqart_codcatreq&codigo='+this.value"
				  ))),
array('use_style' => 'true')
)
?> <?php echo button_to_popup('...','generales/catalogo?clase=Bnubibie&frame=sf_admin_edit_form&obj1=careqart_codcatreq&obj2=careqart_desubi')?>

<?php $value = object_input_tag($careqart, 'getDesubi', array (
'disabled' => true,
'size' => 100,
'control_name' => 'careqart[desubi]',
)); echo $value ? $value : '&nbsp;' ?></div>
</div>


<div class="form-row"><?php echo label_for('careqart[monreq]', __($labels['careqart{monreq}']), 'class="required" ') ?>
<div
	class="content<?php if ($sf_request->hasError('careqart{monreq}')): ?> form-error<?php endif; ?>">
<?php if ($sf_request->hasError('careqart{monreq}')): ?> <?php echo form_error('careqart{monreq}', array('class' => 'form-error-msg')) ?>
<?php endif; ?> <?php $value = object_input_tag($careqart, 'getMonreq', array (
  'size' => 7,
  'control_name' => 'careqart[monreq]',
)); echo $value ? $value : '&nbsp;' ?></div>
</div>

<form name="form1" id="form1"><?
echo grid_tag($obj);
?></form>
</fieldset>

<?php include_partial('edit_actions', array('careqart' => $careqart)) ?>

</form>

<ul class="sf_admin_actions">
      <li class="float-left"><?php if ($careqart->getId()): ?>
<?php echo button_to(__('delete'), 'AlmReq/delete?id='.$careqart->getId(), array (
  'post' => true,
  'confirm' => __('Are you sure?'),
  'class' => 'sf_admin_action_delete',
)) ?><?php endif; ?>
</li>
  </ul>
